\chapter{Introduction}\label{ch:introduction}

\section{Motivation}

Environmental concerns and the challenge to improve the livability of cities are key drivers in recent urban development. Especially in cities shaped by car-centric urbanism, the car is becoming increasingly problematic due to noise and air pollution and the narrowing of space required for parking \cite{gossling_why_2020}. Electrifying traffic and making transportation more intelligent with cooperative transport systems is a critical aspect of reducing these negative impacts and enhancing the livability of city centers \cite{seredynski_pathways_2023}. 

In parallel, many cities are launching initiatives and pilot projects to motivate more sustainable forms of mobility, such as cycling \cite{nieuwenhuijsen_car_2016, yang_tourists_2021}. Increasing the kilometers people commute with their bike directly impacts reducing car kilometers \cite{hatfield_effect_2016}. However, motivating more people to cycle is challenging due to two types of barriers: physical barriers and psychological barriers \cite{nieuwenhuijsen_implementing_2019}. Physical barriers relate to the expansion of cycling infrastructure and supportive features such as bike rental stations and air stations. Psychological barriers involve attitudes that hinder people from cycling. 

Since both types of barriers depend on each other, they can be considered a chicken-and-egg problem: barriers that physically obstruct cyclists must first be dismantled to break down psychological barriers. However, this requires invasive changes to infrastructure and, consequently, citizen support. Thus, non-invasive solutions that improve the attitude towards cycling are highly desirable to accelerate the sustainable mobility transformation. A non-invasive approach involves making cycling smarter \cite{nikolaeva_smart_2019}. 

As traffic infrastructure and participants are increasingly networked, new opportunities arise for digital solutions based on the communication of traffic-related data \cite{tran_factors_2023}. Cities can provide digital solutions to cyclists that improve specific aspects of cycling as a complementary measure to other initiatives \cite{oliveira_survey_2021}. In this way, cyclists may profit from recent developments in urban data infrastructures that have so far been mainly centered on automotive applications \cite{behrendt_cycling_2019}. 

One such solution is providing cyclists with a service through an app that ensures they reach a green traffic light. Known as Green Light Optimal Speed Advisory (GLOSA), this solution enables traffic participants to anticipate the switching behavior of upcoming traffic lights. A speed advisory can be provided to the user based on a prediction of these traffic lights. If applied to cyclists, such a solution has the potential to make cycling feel more intelligent and advantageous in general. Cyclists may accelerate and reach the green phase or conserve energy by coasting. In this manner, a GLOSA app may help cyclists reach their destination quicker or more comfortably.

Such a solution may not only be beneficial for cyclists but also for the city itself, collecting valuable data about cyclists' behaviors through the app. As part of a broader campaign, such an app may contribute to building a self-expanding cycling community. Achieving this goal is the challenge that Hamburg has set itself with the PrioBike\footnote{\url{https://www.hamburg.de/bvm/priobike/}} project, named after the prioritization of bike mobility. Within this project, an app is to be created for Hamburg citizens that can be used free of charge and provides a GLOSA service. To support such a service, Hamburg provides real-time traffic light data for over 5,000 bike traffic lights through a centralized data broker. Based on this foundation, the main goal of this work is to realize and evaluate a GLOSA system for cyclists on the city scale. To accomplish this goal, existing solutions from the car-dominated research domain of GLOSA must be identified, and knowledge gaps for cyclist applications addressed. 

To kick off this work, we will focus on recent and historical developments in the GLOSA domain in the next section. We will find that the scope of this work could significantly contribute to the research understanding of the impact of GLOSA applications on cyclists in a large-scale, real-world context. Afterward, we will look at specific challenges we must address to develop, deploy, and test such a system. The rest of this work will be based on these challenges, solving them step by step to ultimately deploy the system and evaluate it as part of users' daily rides.

\section{Background}

Services similar to Green Light Optimal Speed Advisory were proposed as early as 2006. Back then, Sanchez et al. (2006) \cite{sanchez_predicting_2006} utilized the term "Intelligent Driver Model," showing how a system could be developed that helps drivers adapt to information from an upcoming traffic light. This term was later also used in the context of model predictive control \cite{xin_predictive_2018}. In 2008, Iglesias et al. \cite{iglesias_i2v_2008} proposed a perception-enhancing "Infrastructure to Vehicle Communication Driving Assistance System" that displays a traffic light's state to the driver, increasing the distance from which the traffic light's color can be seen. The idea of a "Green Wave App" recommending speeds to the user was first introduced by Otto and Hoyer (2010) \cite{otto_operating_2010}. Tielert et al. \cite{tielert_impact_2010} introduced a "Traffic-Light-to-Vehicle-Communication" system in the same year. Then, in 2011, the term "Eco-Driving" or "Eco-Approach (and Departure)" was coined by Xia et al. (2011) \cite{xia_indirect_2011}, which would be reused over time by a few studies until today \cite{rakha_eco-driving_2011, rakha_aeris_2012, xia_field_2012, hao_eco-approach_2019, hu_lane-level_2023}. A few works in 2011 \cite{asadi_predictive_2011, raubitschek_predictive_2011} would also use the term "Predictive Cruise Control," referring to the prediction of the needed speed to pass the next traffic light at green. The first work that introduced the abbreviation GLOSA was published by Katsaros et al. in 2011 \cite{katsaros_performance_2011}, which has since become established in most studies.

\begin{figure}[t]
\centering
\resizebox{\linewidth}{!}{%
\begin{tabular}{p{0.45\linewidth}p{0.55\linewidth}}
  \includegraphics[width=\linewidth]{images/related-work-research-method.pdf} &
  \resizebox{\linewidth}{!}{\input{images/related-work-timeline.pgf}} \\
\end{tabular}
}
\caption{Identified directly related studies and overall research trend in the GLOSA domain.}
\label{fig:related-work-research-method}
\end{figure}

From 2006 to December 2023, 82 studies can be identified that relate directly to the topic of a traffic-light-based speed advisory system. As highlighted in \Cref{fig:related-work-research-method}, 51 studies identified as relevant are indexed through a mapping study by Mellegård et al. (2020) \cite{mellegard_day_2020} on GLOSA, with an additional 31 papers identified through cross-references and related terms. Notably, even though the topic was introduced as early as 2006 and gained traction in 2011, the overall research attention has been relatively constant. One reason for the ongoing effort is that the topic receives strong support as a day-1 service of Cooperative Intelligent Transport Systems (C-ITS), brought forward by initiatives such as the C-ROADS project in Europe \cite{sharara_impact_2019}. Day-1 means that the service is considered one of the core features of future driving expected to be available in the short term \cite{mellegard_day_2020}. However, the field of GLOSA has recently encountered a stagnation in progress, with emerging criticism from researchers who contend that the service is not progressing as rapidly as desired \cite{mellegard_day_2020, otto_framework_2023}.

One factor is a strong reliance on simulation environments, with only a few studies brought to a real-world setting (see \Cref{fig:related-work-piechart}) \cite{mellegard_day_2020}. Simulation environments are typical in intelligent transport systems to study novel concepts without significant financial expenses, risks of collision, or other challenges of deploying a prototype in a real-world setting. Moreover, they offer the capability of large-scale traffic simulations, including the interaction between cars and intersections, as well as realistic vehicle agent movement and fuel consumption estimation \cite{kloeppel_performance_2019, pariota_green_2019}. To further increase the realism of simulations, a few studies also simulate aspects of data networking for the generation of the GLOSA service \cite{sharara_impact_2019}. Some studies utilize real-world driving data for a hybrid computational (model-based) evaluation \cite{raubitschek_predictive_2011, luo_green_2017, xie_dynamic_2021, bhattacharyya_assessing_2022}. Still, as pointed out by Klöppel et al. (2019) \cite{kloeppel_performance_2019}, many studies underestimate the complexity of a real-world deployment, highlighting potential benefits but not fully considering the real-world challenges of such a system.

\begin{figure}
\centering
\includegraphics[width=\linewidth]{images/related-work-sankey.pdf}
\caption{Study environment, mode of transport, and number of intersections of related work on GLOSA. The aspects on which this study focuses are highlighted in blue.}
\label{fig:related-work-piechart}
\end{figure}

\nocite{zhao_green_2023, coppola_integrated_2022, seredynski_complementing_2014, seredynski_improving_2014, radivojevic_impact_2016} % Referenced in the diagram, but not in the text

Here, a key driver in GLOSA research has been the studies by Audi and BMW, who, from 2008 to 2018, investigated GLOSA in real-world settings as part of their advanced driver assistance systems. In 2014, Protschky et al. \cite{protschky_extensive_2014, protschky_adaptive_2014} focused on a large-scale deployment in Munich, laying the methodological foundation for BMW's "EnLighten" app that was developed later by Wilson et al. (2017) \cite{wilson_driver_2017} and Sokolov et al. (2018) \cite{sokolov_effects_2018}. Both studies were conducted in the USA. In the project TRAVOLUTION (2008) \cite{braun_travolution-netzweite_2009}, Audi collaborated with the city of Ingolstadt and the German firm Gevas to lay the foundation for their own GLOSA system. The system design and the first results were published in 2013 by Zweck and Schuch \cite{zweck_traffic_2013}. By that time, Audi's GLOSA system included the cities of Verona, Garmisch, and Berlin, with over 700 intersection nodes. Later, in 2017, Stahlmann et al. \cite{stahlmann_multi-hop_2017} investigated options for Audi to obtain the traffic light data via short-range radio communication directly. Finally, in 2018, Stahlmann et al. \cite{stahlmann_exploring_2018} published a paper more broadly focusing on practical problems, finding that there are still unsolved challenges, even though development on GLOSA had proceeded for over a decade at this point.

These studies have been tested in relatively extensive areas, enabled through the initiatives and pilots brought forward by car manufacturers collaborating with cities. Apart from these studies, only a few works have investigated GLOSA on a similar scale. Khan et al. (2021) \cite{khan_eco-drive_2021} develop a cloud-based ECO-Driving system for Ottawa with access to 1178 intersections. Bhattacharyya et al. (2022) \cite{bhattacharyya_assessing_2022} utilize data from a field-operational test in Bordeaux with access to 546 intersections. The work by Bhattacharyya et al. (2022) \cite{bhattacharyya_assessing_2022} is related to the mobile apps "CTD - Mobilité connectée"\footnote{\url{https://play.google.com/store/apps/details?id=com.geolocsystems.cthedifference}}, "CoopITS"\footnote{\url{https://play.google.com/store/apps/details?id=fr.gouv.developpementdurable.coopits}}, and work on the Cooperative Urban Mobility Portal\footnote{\url{https://co-ump.eu/data-samples-glosa/}} for Bordeaux. Two other commercial apps were developed in Germany: "TrafficPilot" (available in >10 German cities) by Gevas or "Signal2X" (available in Darmstadt) by Yunex \cite{yunex_traffic_v2x-kommunikation_2023}. Except these projects, most real-world GLOSA studies utilize a testbed with few turns, few traffic lights, and often a predefined route \cite{iglesias_i2v_2008, schweiger_elisatm_2011, raubitschek_predictive_2011, koukoumidis_signalguru_2011, koukoumidis_leveraging_2012, hao_eco-approach_2019, fickas_fast_2019, chen_developing_2022}. City-scale studies are still highly demanded to learn more about the applicability and benefits, but also potential drawbacks of GLOSA to real-world traffic.

Furthermore, GLOSA research has traditionally focused on car applications, and only a few studies have focused on transporting the progress in this domain over to cyclists. One currently favored approach seems to be deploying static info boards or light stripes at intersections instead of a mobile application \cite{lu_enhancement_2018}. In initial work on a mobile GLOSA application by Tal et al. (2016) \cite{tal_vehicular-communications-based_2016}, a speed advisory system for e-bikes was conceived, which showed in simulations and emulated driving in a testbed that GLOSA systems could reduce a cyclist's energy expenditure substantially. Similar outsights were found later in a simulation by Halbach et al. (2021) \cite{halbach_cooperative_2021}. 

However, these studies are far away from a real-world application. In a more realistic setting, Fickas et al. tested a bike-GLOSA app on a test corridor (6 intersections) from 2018 to 2021 in Oregon \cite{fickas_project_2018, fickas_riding_2019, fickas_fast_2019, fickas_green_2021, fickas_using_2021, fickas_data_2021}. As a critical challenge, it was found that cyclists require much more personalized and context-aware speed advisories, as their surroundings highly influence them. Dabiri et al. (2020) \cite{dabiri_optimized_2020} approached this challenge by providing different speed advisory profiles, which could be swapped depending on the detected type of cyclist. This approach was found promising in simulations but also remains to be demonstrated in a real-world setting. Thus, while prototypes of GLOSA apps have been studied in small-scale deployments, and simulations promise improvements in energy efficiency, the practicality and impact of a bike-GLOSA app on a city scale remain to be demonstrated.

In essence, this work aims to bridge the gap between GLOSA's current state -- primarily concentrated on motorized vehicles -- and its potential application to a complete city network, with a spotlight on cyclists. The unique challenges posed by this expansive scope necessitate reevaluating established concepts and solutions, ensuring the development of a holistic GLOSA system.

\section{Challenges}

Apart from the general lack of focus on cyclists, the research domain surrounding GLOSA raises many interdisciplinary research issues: regulation and financing, integration and technology assessment, and possible consequences for society. This work focuses more on the technical implementation of such a system and its assessment in a large-scale real-world context, resulting in four problems to address.

\addcontentsline{toc}{subsection}{Traffic Light Data for Prediction}
\textbf{\color{cidarkblue}Traffic Light Data for Prediction:} To provide a speed advisory for an upcoming traffic light, a prediction of the traffic light's switching behavior is required. The challenge lies in developing a robust system capable of seamlessly collecting real-time data from traffic lights across the city. Establishing such a system involves integrating a data source and implementing a prediction algorithm that can incorporate the recorded data and forecast the traffic light's behavior. Since a traffic light's switching behavior may depend highly on the current time and day and the detected traffic density, a reliable and accurate prediction is challenging. Furthermore, there may be data outages or errors in the streamed data, which degrade the quality and trustworthiness of the prediction. Hence, achieving a highly accurate and trustworthy prediction is challenging but unquestionably paramount for the overall effectiveness of the speed advisory.

\addcontentsline{toc}{subsection}{Traffic Light Matching}
\textbf{\color{cidarkblue}Traffic Light Matching:} For which traffic light a speed advisory should be displayed depends on the user's planned trajectory across the next intersection(s). The extensive number of potential traffic lights across the city complicates the process, turning the identification of the matching traffic lights into a search for needles in the haystack. The system needs to efficiently and accurately pinpoint the relevant traffic lights that align with the user's route, considering factors such as distance and turn direction. The type of traffic light is also important since cyclists occasionally share a traffic light with cars, buses, or pedestrians. The system should prefer dedicated traffic lights for cyclists whenever possible. Due to the often ambiguous choice of traffic lights at an intersection, the matching algorithm has to consider multiple variants and decide on the best traffic light. The challenge here lies in the algorithmic complexity of traffic light matching and in ensuring real-time responsiveness to provide timely speed advisories.

\addcontentsline{toc}{subsection}{Accurate Bike Routing}
\textbf{\color{cidarkblue}Accurate Bike Routing:} To know which traffic lights will be along the way, this work will utilize a route-based approach for trajectory prediction and distance-to-signal estimation. This approach implies that calculating a route accurately resembling bike trails is crucial for the speed advisory's accuracy. However, existing routing foundations are designed as general-purpose maps focusing on motorists, meaning bike paths are often missing or tagged inconsistently. One key focus of this work is, thus, to find methods that allow a more accurate bike routing to enhance the overall in-app experience and provide a solid foundation for an accurate speed advisory.

\addcontentsline{toc}{subsection}{Speed Advisory}
\textbf{\color{cidarkblue}Speed Advisory:} As cyclists navigate with the GLOSA app through the urban landscape, it becomes essential to tailor speed advisories to their individual needs and the context of their journey. Designing a suitable user interface involves reducing cognitive load on the user as much as possible, allowing the cyclist to focus on the real-world situation. Maximizing the usefulness of the advisory system involves striking a balance between providing targeted speed advisories and avoiding unnecessary distractions. Factors such as the road's inclination, surface quality, and bike type are also crucial to determining the best route and speed advisory. Having solved these challenges, we can deploy the mobile application in a large-scale context and evaluate its impact. One major challenge is finding metrics that decrypt the recorded user data into meaningful insights about the impact of GLOSA on cycling behavior. A multifaceted approach encompassing quantitative and qualitative data is necessary to tackle this. We must understand user perspectives to ensure that GLOSA aligns with user expectations and integrates seamlessly into their cycling routines. 

Together, these challenges represent the framework for this work to demystify the overarching question of how well the idea of GLOSA adapts to cyclists in a large-scale, real-world setting. By addressing one challenge by one, this study aims to draw potential repercussions and future work of implementing GLOSA for cyclists.

\section{How to Read This Thesis}

Having discussed the top-level structure and motivation of this work, the remainder of this work is structured as follows. Each chapter follows one described challenge along the processing chain of a GLOSA system. First, in \Cref{ch:prediction}, we will discuss the challenge of traffic light prediction, contributing to the understanding of traffic light switching patterns and real-world deployment challenges, and obtaining a functional city-scale prediction system for our bike-GLOSA app. Afterward, in \Cref{ch:matching}, we connect the traffic light prediction with the cyclist by allowing the cyclist to match traffic lights along a preselected route. In \Cref{ch:routing}, we develop an accurate bike routing that improves traffic light matching and distance-to-signal estimation. The routing is integrated with traffic light prediction and matching into the bike-GLOSA app in \Cref{ch:app}, focusing on the user interface to provide the best possible speed advisory. In this chapter, we also evaluate the impact of the speed advisory on cyclist behavior. At the end of this thesis, \Cref{ch:conclusions} summarizes the gained knowledge and main results for all individual challenges and gives an overarching outlook for future studies.

Each chapter of this thesis is self-contained and can also be read separately. Each chapter gives a more challenge-specific introduction, delving into a report of current related work and observed research gaps. Afterward, we address these research gaps and present the results of our developed solution(s) to draw conclusions and identify future avenues for research. Small summaries that provide all key points are given at the end of each section.
